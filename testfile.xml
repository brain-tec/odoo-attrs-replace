<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <form>
        <xpath expr="//">
            <!-- readonly should give: -->
            <!-- (field1 == 'yes' and field2 == 'yes') or (field3 == 'yes' or field4 == 'yes') or field5 == 'yes' and field6 == 'yes' -->
            <field column_invisible="0" invisible="True" name="name" readonly="(field1 == 'yes' and field2 == 'yes') or (field3 == 'yes' or field4 == 'yes') or field5 == 'yes' and field6 == 'yes'" required="field in ['a', 'b', 'c']"/>
        </xpath>
        <xpath expr="//." position="attributes">
            <attribute name="invisible">True</attribute>
            <attribute name="column_invisible">0</attribute>
            <attribute name="readonly">otherfield == 'yes'</attribute>
            <attribute name="required">field in ['a', 'b', 'c']</attribute>
        </xpath>
        <xpath expr="//test_states_simple_case">
            <field invisible="state not in ['draft','done']"/>
        </xpath>
        <xpath expr="//test_states_attrs_simple_case">
            <attribute name="invisible">state not in ['draft']</attribute>
        </xpath>
        <xpath expr="//test_states_with_invisible_existing">
            <field invisible="testfield == 'hello world' or state not in ['draft','done']"/>
        </xpath>
        <xpath expr="//test_states_attrs_with_invisible_existing" position="attributes">
            <attribute name="invisible">(test1 in [1, 2, 3] and test2 in [2, 3, 4]) or test3 == 'hello' or test4 in [%('testmodule.test_xml_id')d, %('testmodule.test_xml_id_2')d] or state not in ['draft','done']</attribute>
        </xpath>
        <xpath expr="//test_states_attrs_with_invisible_existing_and_invisible_single_and">
            <attribute name="invisible">test8 == True and state not in ['draft','done']</attribute>
        </xpath>
        <field invisible="(test1 in [1, 2, 3] and test2 in [2, 3, 4]) or test3 == 'hello' or test4 in [%('testmodule.test_xml_id')d, %(testmodule.test_xml_id_2)d]" name="test"/>
        <!-- Case given by odoo, single '|' with states - can cause bug while should be accepted -->
        <button class="btn btn-secondary" context="{'enable_add_temporary': 1}" invisible="allow_modification == False or state not in ['draft','sent','sale']" name="action_open_action_coupon_program" string="Actions" type="object"/>
    </form>
</odoo>
